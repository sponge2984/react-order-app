(this["webpackJsonpreact-order-app"]=this["webpackJsonpreact-order-app"]||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),i=n(25),s=n.n(i),o=(n(81),n(82),n(34)),l=n(8),j=n(57),d=n.n(j),u=n(62),b=n(19),O=n(48),h=n(14),x=n(70),m=n(129),g=c.a.createContext();function p(e){var t=e.children,n=function(){var e=Object(r.useState)({info:null,token:localStorage.getItem("token")||null,isLoggedIn:!!localStorage.getItem("token")}),t=Object(b.a)(e,2),n=t[0],a=t[1];return{user:n,signin:function(e,t){localStorage.setItem("token","test"),a({info:e.username,token:"test",isLoggedIn:!0}),setTimeout(t,1e3)},signout:function(e){a({info:null,token:null,isLoggedIn:!1}),localStorage.removeItem("token"),setTimeout(e,100)}}}();return Object(a.jsx)(g.Provider,{value:n,children:t})}function f(e){var t=e.children,n=Object(x.a)(e,["children"]),c=Object(r.useContext)(g);return Object(a.jsx)(l.b,Object(h.a)(Object(h.a)({},n),{},{render:function(e){var n=e.location;return c.user.isLoggedIn?t:Object(a.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function v(e){var t=e.className,n=Object(l.g)(),c=Object(r.useContext)(g);return Object(a.jsx)("div",{className:t,children:c.user.isLoggedIn?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"userName",children:"Welcome!! ".concat(c.user.info||""," ")}),Object(a.jsx)(m.a,{onClick:function(){c.signout((function(){return n.push("/login")}))},variant:"contained",color:"secondary",children:"Sign out"})]}):Object(a.jsx)("p",{children:"You are not logged in."})})}var C=n(131),y=n(4),w=n(134),N=n(147),L=n(148),I=n(133),k=n(132),S=n(63),F=n.n(S),A=n(64),E=n.n(A),W=Object(C.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},loginWrapper:{width:"50%",height:"50%",margin:"10px auto"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",margin:"10px"}}}));function D(e,t){switch(t.type){case"field":return Object(h.a)(Object(h.a)({},e),{},Object(O.a)({},t.fieldName,t.payload));case"login":return Object(h.a)(Object(h.a)({},e),{},{error:"",isLoading:!0});case"success":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!0,isLoading:!1});case"error":return Object(h.a)(Object(h.a)({},e),{},{error:"Incorrect username or password!",isLoggedIn:!1,isLoading:!1,username:"",password:""});case"logOut":return Object(h.a)(Object(h.a)({},e),{},{isLoggedIn:!1});default:return e}}var M={username:"",password:"",isLoading:!1,error:"",isLoggedIn:!1};function T(){var e=W(),t=Object(l.g)(),n=Object(r.useContext)(g),c=Object(r.useReducer)(D,M),i=Object(b.a)(c,2),s=i[0],o=i[1],j=s.username,O=s.password,h=s.isLoading,x=s.error,p=Object(r.useState)(!1),f=Object(b.a)(p,2),v=f[0],C=f[1],S=function(){var e=Object(u.a)(d.a.mark((function e(a){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),o({type:"login"}),e.prev=2,e.next=5,n.signin({username:j,password:O},(function(){o({type:"success"}),t.push("/")}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),o({type:"error"});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return function(t){console.log("handleChange:",e),o({type:"field",fieldName:e,payload:t.currentTarget.value})}};return Object(a.jsx)("div",{className:e.loginWrapper,children:Object(a.jsxs)("div",{className:e.formContainer,children:[Object(a.jsx)("p",{children:"Login page "}),x&&Object(a.jsx)("p",{className:"error",children:x}),Object(a.jsxs)(k.a,{className:Object(y.a)(e.margin,e.textField),variant:"outlined",children:[Object(a.jsx)(L.a,{htmlFor:"outlined-adornment-username",children:"UserName"}),Object(a.jsx)(N.a,{id:"outlined-adornment-username",type:"text",value:j,onChange:A("username"),labelWidth:70})]}),Object(a.jsxs)(k.a,{className:Object(y.a)(e.margin,e.textField),variant:"outlined",children:[Object(a.jsx)(L.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(a.jsx)(N.a,{id:"outlined-adornment-password",type:v?"text":"password",value:O,onChange:A("password"),endAdornment:Object(a.jsx)(I.a,{position:"end",children:Object(a.jsx)(w.a,{"aria-label":"toggle password visibility",onClick:function(){return C(!v)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:v?Object(a.jsx)(F.a,{}):Object(a.jsx)(E.a,{})})}),labelWidth:70})]}),Object(a.jsx)(m.a,{onClick:S,style:{margin:"10px"},variant:"contained",color:"primary",disabled:h,children:h?"Logging in...":"Log In"})]})})}var B=n(60),R=n(140),P=n(141),G=n(142),J=n(144),q=n(143),U=n(149),Y=n(139),z=n(41),H=n(65),K=n.n(H),Q=n(66),V=n.n(Q),X=n(135),Z=n(136),$=n(138),_=n(137),ee=Object(C.a)({root:{maxWidth:345,width:"30%",height:"200px",margin:"5px"}});var te=function(e){var t=e.className,n=e.itemInfo,r=e.onSelect,c=ee();return Object(a.jsx)(X.a,{className:Object(y.a)(c.root,t),onClick:function(){r(n)},children:Object(a.jsxs)(Z.a,{children:[Object(a.jsx)(_.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:n.img,title:"Contemplative Reptile"}),Object(a.jsx)($.a,{children:Object(a.jsx)(z.a,{gutterBottom:!0,variant:"h5",component:"h2",children:n.name})})]})})},ne=Object(C.a)({root:{display:"flex",justifyContent:"center",flexWrap:"wrap",height:"80vh",margin:"20px"}}),ae=Object(C.a)({itemCardContainer:{width:"100%",height:"100%",background:"#EAEAEA",display:"flex",justifyContent:"center",padding:"10px"}}),re=[{name:"\u73cd\u73e0\u5976\u8336",id:"123534234",img:n.p+"static/media/item1.1f9e2be7.jpg"},{name:"\u62b9\u8336\u62ff\u9435",id:"564651351",img:n.p+"static/media/item2.66d5f3e5.jpg"},{name:"\u56db\u5b63\u6625\u8336",id:"123123123123",img:n.p+"static/media/item3.e35f632b.jpg"}];var ce=function(){var e=ne(),t=ae(),n=Object(r.useState)(!0),c=Object(b.a)(n,2),i=c[0],s=(c[1],Object(r.useState)(!0)),o=Object(b.a)(s,2),l=o[0],j=(o[1],Object(r.useState)([])),d=Object(b.a)(j,2),u=d[0],O=d[1],h=function(e){u.every((function(t){return t.id!==e.id}))&&O([].concat(Object(B.a)(u),[e]))};return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(Y.a,{item:!0,xs:12,md:4,children:[Object(a.jsx)(z.a,{variant:"h6",className:t.title,children:" \u8a02\u55ae\u7de8\u865f:xxxxxxxx \u5171".concat(u.length,"\u9805")}),Object(a.jsx)(R.a,{dense:i,children:u.map((function(e){return Object(a.jsxs)(P.a,{children:[Object(a.jsx)(G.a,{children:Object(a.jsx)(U.a,{children:Object(a.jsx)(K.a,{})})}),Object(a.jsx)(q.a,{primary:e.name,secondary:l?"Secondary text":null}),Object(a.jsx)(J.a,{children:Object(a.jsx)(w.a,{edge:"end","aria-label":"delete",onClick:function(){return t=e,console.log("r: ",t),void O(Object(B.a)(u).filter((function(e){return e.id!==t.id})));var t},children:Object(a.jsx)(V.a,{})})})]})}))})]}),Object(a.jsx)(Y.a,{item:!0,xs:12,md:8,className:t.itemCardContainer,children:re.map((function(e){return Object(a.jsx)(te,{itemInfo:e,onSelect:h})}))})]})};var ie=function(){var e=ne();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("h1",{children:"Manage"})})};var se=function(){var e=ne();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("h1",{children:"Meals"})})},oe=n(92),le=n(146),je=n(145),de=n(67),ue=n.n(de),be=n(69),Oe=n.n(be),he=n(68),xe=n.n(he),me=[{label:"ORDER",icon:Object(a.jsx)(ue.a,{}),path:"/order"},{label:"MEALS",icon:Object(a.jsx)(xe.a,{}),path:"/meals"},{label:"MANAGE",icon:Object(a.jsx)(Oe.a,{}),path:"/manage"}],ge=Object(C.a)({root:{flexGrow:1},authBtn:{position:"absolute",right:0,top:0,margin:"0 10px"}}),pe=me.map((function(e){return e.path}));function fe(){var e=ge(),t=Object(l.g)(),n=Object(l.h)(),r=c.a.useState(function(e){var t=pe.indexOf(e);return t>-1?t:0}(n.pathname)),i=Object(b.a)(r,2),s=i[0],o=i[1];return Object(a.jsxs)(oe.a,{square:!0,className:e.root,children:[Object(a.jsx)(le.a,{value:s,onChange:function(e,n){o(n),t.push(pe[n])},indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example",centered:!0,children:me.map((function(e){return Object(a.jsx)(je.a,{icon:e.icon,label:e.label})}))}),Object(a.jsx)(v,{className:e.authBtn})]})}function ve(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(fe,{}),t]})}var Ce=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(p,{children:Object(a.jsx)(o.a,{basename:"/react-order-app",children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/login",children:Object(a.jsx)(T,{})}),Object(a.jsxs)(ve,{children:[Object(a.jsx)(f,{exact:!0,path:"/",children:Object(a.jsx)(ce,{})}),Object(a.jsx)(f,{path:"/order",children:Object(a.jsx)(ce,{})}),Object(a.jsx)(f,{path:"/manage",children:Object(a.jsx)(ie,{})}),Object(a.jsx)(f,{path:"/meals",children:Object(a.jsx)(se,{})})]})]})})})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(Ce,{})}),document.getElementById("root")),ye()}},[[90,1,2]]]);
//# sourceMappingURL=main.8848bfc7.chunk.js.map