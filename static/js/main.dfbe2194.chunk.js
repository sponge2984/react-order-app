(this["webpackJsonpreact-order-app"]=this["webpackJsonpreact-order-app"]||[]).push([[0],{81:function(e,t,n){},82:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),i=n.n(r),c=n(26),o=n.n(c),s=(n(81),n(82),n(31)),l=n(8),d=n(54),j=n.n(d),u=n(61),b=n(16),x=n(47),p=n(10),g=n(70),h=n(128),m=i.a.createContext();function O(e){var t=e.children,n=function(){var e=Object(r.useState)({info:null,token:localStorage.getItem("token")||null,isLoggedIn:!!localStorage.getItem("token")}),t=Object(b.a)(e,2),n=t[0],a=t[1];return{user:n,signin:function(e,t){localStorage.setItem("token","test"),a({info:e.username,token:"test",isLoggedIn:!0}),setTimeout(t,1e3)},signout:function(e){a({info:null,token:null,isLoggedIn:!1}),localStorage.removeItem("token"),setTimeout(e,100)}}}();return Object(a.jsx)(m.Provider,{value:n,children:t})}function f(e){var t=e.children,n=Object(g.a)(e,["children"]),i=Object(r.useContext)(m);return Object(a.jsx)(l.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){var n=e.location;return i.user.isLoggedIn?t:Object(a.jsx)(l.a,{to:{pathname:"/login",state:{from:n}}})}}))}function v(e){var t=e.className,n=Object(l.g)(),i=Object(r.useContext)(m);return Object(a.jsx)("div",{className:t,children:i.user.isLoggedIn?Object(a.jsxs)("p",{children:[Object(a.jsx)("span",{className:"userName"}),Object(a.jsx)(h.a,{onClick:function(){i.signout((function(){return n.push("/login")}))},variant:"contained",color:"secondary",style:{textTransform:"initial"},children:"Sign Out"})]}):Object(a.jsx)("p",{children:"You are not logged in."})})}var y=n(130),w=n(4),N=n(133),C=n(148),I=n(149),L=n(132),k=n(131),S=n(62),F=n.n(S),P=n(63),B=n.n(P),W=Object(y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1),width:"25ch"}},loginWrapper:{width:"50%",height:"50%",margin:"10px auto"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"25ch"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",margin:"10px"}}}));function T(e,t){switch(t.type){case"field":return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},t.fieldName,t.payload));case"login":return Object(p.a)(Object(p.a)({},e),{},{error:"",isLoading:!0});case"success":return Object(p.a)(Object(p.a)({},e),{},{isLoggedIn:!0,isLoading:!1});case"error":return Object(p.a)(Object(p.a)({},e),{},{error:"Incorrect username or password!",isLoggedIn:!1,isLoading:!1,username:"",password:""});case"logOut":return Object(p.a)(Object(p.a)({},e),{},{isLoggedIn:!1});default:return e}}var D={username:"",password:"",isLoading:!1,error:"",isLoggedIn:!1};function M(){var e=W(),t=Object(l.g)(),n=Object(r.useContext)(m),i=Object(r.useReducer)(T,D),c=Object(b.a)(i,2),o=c[0],s=c[1],d=o.username,x=o.password,p=o.isLoading,g=o.error,O=Object(r.useState)(!1),f=Object(b.a)(O,2),v=f[0],y=f[1],S=function(){var e=Object(u.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),s({type:"login"}),e.prev=2,e.next=5,n.signin({username:d,password:x},(function(){s({type:"success"}),t.push("/")}));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),s({type:"error"});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),P=function(e){return function(t){console.log("handleChange:",e),s({type:"field",fieldName:e,payload:t.currentTarget.value})}};return Object(a.jsx)("div",{className:e.loginWrapper,children:Object(a.jsxs)("div",{className:e.formContainer,children:[Object(a.jsx)("p",{children:"Login page "}),g&&Object(a.jsx)("p",{className:"error",children:g}),Object(a.jsxs)(k.a,{className:Object(w.a)(e.margin,e.textField),variant:"outlined",children:[Object(a.jsx)(I.a,{htmlFor:"outlined-adornment-username",children:"UserName"}),Object(a.jsx)(C.a,{id:"outlined-adornment-username",type:"text",value:d,onChange:P("username"),labelWidth:70})]}),Object(a.jsxs)(k.a,{className:Object(w.a)(e.margin,e.textField),variant:"outlined",children:[Object(a.jsx)(I.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(a.jsx)(C.a,{id:"outlined-adornment-password",type:v?"text":"password",value:x,onChange:P("password"),endAdornment:Object(a.jsx)(L.a,{position:"end",children:Object(a.jsx)(N.a,{"aria-label":"toggle password visibility",onClick:function(){return y(!v)},onMouseDown:function(e){return e.preventDefault()},edge:"end",children:v?Object(a.jsx)(F.a,{}):Object(a.jsx)(B.a,{})})}),labelWidth:70})]}),Object(a.jsx)(h.a,{onClick:S,style:{margin:"10px"},variant:"contained",color:"primary",disabled:p,children:p?"Logging in...":"Log In"})]})})}var R=n(57),A=n(139),z=n(140),J=n(141),Y=n(143),$=n(142),q=n(150),E=n(138),G=n(38),U=n(64),X=n.n(U),H=n(65),K=n.n(H),Q=n(134),V=n(135),Z=n(137),_=n(136),ee=Object(y.a)({root:{maxWidth:180,width:"180px",height:"200px",margin:"5px",flex:"1 1 180px"}});var te=function(e){var t=e.className,n=e.itemInfo,r=e.onSelect,i=ee();return Object(a.jsx)(Q.a,{className:Object(w.a)(i.root,t),onClick:function(){r(n)},children:Object(a.jsxs)(V.a,{children:[Object(a.jsx)(_.a,{component:"img",alt:"Contemplative Reptile",height:"140",image:n.img,title:"Contemplative Reptile"}),Object(a.jsx)(Z.a,{children:Object(a.jsxs)(G.a,{gutterBottom:!0,variant:"h5",component:"h2",children:[n.name," $".concat(n.price)]})})]})})},ne=Object(y.a)({root:{display:"flex",justifyContent:"center",flexWrap:"wrap",height:"calc( 100vh - 68px )"}}),ae=Object(y.a)((function(e){return{orderCount:{width:"30px",textAlign:"end"},orderPrice:{margin:" 0 10px",width:"50px",textAlign:"end"},totalPrice:{fontSize:"20px",position:"absolute",bottom:"10px",right:"10px",width:"180px"},itemWrapper:{height:"100%",background:"#3b3d46",width:"100%",flexDirection:"column",display:"flex",position:"relative"},itemCardContainer:{boxSizing:"border-box",width:"100%",display:"flex",justifyContent:"flex-start",flexDirection:"row",flexWrap:"wrap",overflowY:"auto",padding:"5px 8px"},classifyTabs:{width:"100%",color:"#fff",backgroundColor:"#1976d2"},Pagination:{position:"absolute",bottom:"66px",left:"50%",transform:"translateX(-50%)","& li > button":{background:"#ffffff66"}},orderFooter:{width:"100%",height:"56px",position:"absolute",display:"flex",justifyContent:"flex-end",alignItems:"center",bottom:0,boxShadow:"0px 2px 4px -1px rgba(0,0,0,0.12), 0px 4px 5px 0px rgba(0,0,0,0.24), 0px 1px 10px 0px rgba(0,0,0,0.42)"},SendOrderBtn:{marginRight:"10px",width:"80px",height:"36px",background:"radial-gradient(circle, rgba(171,130,9,0.9990371148459384) 5%, rgba(159,120,5,1) 34%, rgba(124,95,9,1) 68%, rgba(78,58,0,1) 100%)"}}})),re=n.p+"static/media/item1.1f9e2be7.jpg",ie=n.p+"static/media/item2.66d5f3e5.jpg",ce=n.p+"static/media/item3.e35f632b.jpg",oe=[{name:"\u73cd\u73e0\u5976\u8336",id:"123534234",img:re,price:50,type:"0"},{name:"\u62b9\u8336\u62ff\u9435",id:"564651351",img:ie,price:60,type:"0"},{name:"\u56db\u5b63\u6625\u8336",id:"123123123123",img:ce,price:70,type:"0"},{name:"\u591a\u591a\u7da0\u8336",id:"12312312312322",img:ce,price:80,type:"0"},{name:"\u591a\u591a\u7da0\u8336",id:"123123123q12322",img:ce,price:80,type:"0"}];var se=function(){var e=ne(),t=ae(),n=Object(r.useState)(!0),c=Object(b.a)(n,2),o=c[0],s=(c[1],Object(r.useState)(!0)),l=Object(b.a)(s,2),d=l[0],j=(l[1],Object(r.useState)([])),u=Object(b.a)(j,2),x=u[0],g=u[1],m=i.a.useState(0),O=Object(b.a)(m,2),f=(O[0],O[1],function(e){var t=x.find((function(t){return t.id===e.id}));g(void 0===t?[].concat(Object(R.a)(x),[Object(p.a)(Object(p.a)({},e),{},{count:1})]):x.map((function(t){return t.id===e.id?Object(p.a)(Object(p.a)({},e),{},{count:t.count+1}):t})))});return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsxs)(E.a,{item:!0,xs:12,md:3,style:{position:"relative"},children:[Object(a.jsx)(G.a,{variant:"h6",className:t.title,children:" \u8a02\u55ae\u7de8\u865f:xxxxxxxx \u5171".concat(x.length,"\u9805")}),Object(a.jsx)(A.a,{dense:o,children:x.map((function(e){return Object(a.jsxs)(z.a,{children:[Object(a.jsx)(J.a,{children:Object(a.jsx)(q.a,{children:Object(a.jsx)(X.a,{})})}),Object(a.jsx)($.a,{primary:e.name,secondary:d?"Secondary text":null}),Object(a.jsx)("div",{className:t.orderCount,children:e.count}),Object(a.jsx)("div",{className:t.orderPrice,children:"$".concat(e.price*e.count)}),Object(a.jsx)(Y.a,{children:Object(a.jsx)(N.a,{edge:"end","aria-label":"delete",onClick:function(){return t=e,void g(Object(R.a)(x).filter((function(e){return e.id!==t.id})));var t},children:Object(a.jsx)(K.a,{})})})]})}))}),Object(a.jsx)("div",{className:t.totalPrice,children:"\u7e3d\u91d1\u984d: ".concat(x.reduce((function(e,t){return t.price*t.count+e}),0)," \u5143")})]}),Object(a.jsxs)(E.a,{item:!0,xs:12,md:9,className:t.itemWrapper,children:[Object(a.jsx)("div",{className:t.itemCardContainer,children:oe.map((function(e,t){return Object(a.jsx)(te,{itemInfo:e,onSelect:f},t)}))}),Object(a.jsx)("div",{className:t.orderFooter,children:Object(a.jsx)(h.a,{className:t.SendOrderBtn,variant:"contained",color:"primary",children:"Pay"})})]})]})};var le=function(){var e=ne();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("h1",{children:"Manage"})})};var de=function(){var e=ne();return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)("h1",{children:"Meals"})})},je=n(66),ue=n.n(je),be=n(68),xe=n.n(be),pe=n(67),ge=n.n(pe),he=[{label:"Order",icon:Object(a.jsx)(ue.a,{}),path:"/order"},{label:"Meals",icon:Object(a.jsx)(ge.a,{}),path:"/meals"},{label:"Manage",icon:Object(a.jsx)(xe.a,{}),path:"/manage"}],me=n(146),Oe=n(147),fe=n(144),ve=n(145),ye=n(69),we=n.n(ye),Ne=Object(y.a)((function(e){return{root:{flexGrow:1},navigationContainer:{height:"auto",background:"linear-gradient(to right, #24283e, #102f69, #0c1a29)",display:"flex",justifyContent:"space-between","& .navigationLeft":{display:"flex",alignItems:"center"},"& .navigationRight":{display:"flex",alignItems:"center"}},navigation:{backgroundColor:"transparent","& .navigationItem":{color:"#ffffffba","&:hover":{color:"#fff"}},"& .Mui-selected":{color:"#fff"}},authBtn:{margin:"0 10px"},menuButton:{marginRight:e.spacing(2)},title:{}}})),Ce=he.map((function(e){return e.path}));function Ie(){var e=Ne(),t=Object(l.g)(),n=Object(l.h)(),r=i.a.useState(function(e){var t=Ce.indexOf(e);return t>-1?t:0}(n.pathname)),c=Object(b.a)(r,2),o=c[0],s=c[1];return Object(a.jsx)("div",{className:e.root,children:Object(a.jsx)(fe.a,{position:"static",children:Object(a.jsxs)(ve.a,{className:e.navigationContainer,children:[Object(a.jsxs)("span",{className:"navigationLeft",children:[Object(a.jsx)(N.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(we.a,{})}),Object(a.jsx)(G.a,{variant:"h6",className:e.title,children:"Order App"})]}),Object(a.jsxs)("span",{className:"navigationRight",children:[Object(a.jsx)(me.a,{value:o,onChange:function(e,n){s(n),t.push(Ce[n])},showLabels:!1,className:e.navigation,children:he.map((function(e){return Object(a.jsx)(Oe.a,{label:e.label,icon:e.icon,className:"navigationItem"})}))}),Object(a.jsx)(v,{className:e.authBtn})]})]})})})}function Le(e){var t=e.children;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ie,{}),t]})}var ke=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(O,{children:Object(a.jsx)(s.a,{basename:"/react-order-app",children:Object(a.jsxs)(l.d,{children:[Object(a.jsx)(l.b,{path:"/login",children:Object(a.jsx)(M,{})}),Object(a.jsxs)(Le,{children:[Object(a.jsx)(f,{exact:!0,path:"/",children:Object(a.jsx)(se,{})}),Object(a.jsx)(f,{path:"/order",children:Object(a.jsx)(se,{})}),Object(a.jsx)(f,{path:"/manage",children:Object(a.jsx)(le,{})}),Object(a.jsx)(f,{path:"/meals",children:Object(a.jsx)(de,{})})]})]})})})})},Se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,152)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),i(e),c(e)}))};o.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(ke,{})}),document.getElementById("root")),Se()}},[[90,1,2]]]);
//# sourceMappingURL=main.dfbe2194.chunk.js.map